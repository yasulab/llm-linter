<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ææ¡ˆæ›¸ã®æ¦‚è¦æ–‡ã« AI ãŒã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹å®Ÿé¨“çš„ãªã‚·ã‚¹ãƒ†ãƒ ï¼ˆéå…¬å¼ï¼‰</title>
  <style>
    body {
      font-family: 'Noto Sans JP', sans-serif;
      margin:  0;
      padding: 0;
      margin-bottom: 100px;
    }
    p {
      color: #242424;
      font-family: 'Noto Sans JP', sans-serif;
      font-size: 98%;
    }
    a {
      text-decoration: none;
    }
    a:hover{
      text-decoration: underline;
    }
    
    textarea, #resultDiv {
      font-family: 'Noto Sans JP', sans-serif;
      font-size: 16px;
    }
    button {
      margin-top:    0.5em;
      margin-right:  0.5em;
      margin-bottom: 0.5em;
    }
    /* ã‚¹ãƒãƒ›ã®ç”»é¢ã‚µã‚¤ã‚ºã®ã¨ãã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */
    @media screen and (max-width: 768px) {
      button {
        font-size: 1.1em;     /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */
        padding: 0.5em 0.9em; /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¿½åŠ ã—ã¦ãƒœã‚¿ãƒ³ã‚’å¤§ããè¦‹ã›ã‚‹ */
	display: block;       /* ãƒœã‚¿ãƒ³ã‚’ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ã«å¤‰æ›´ */
      }
      #inputText {
        height: 300px; /* å…¥åŠ›ç”»é¢ã®é«˜ã•ã‚’1.5å€ã«ã™ã‚‹ */
      }
    }

    #container{
      margin-top:    1.0em;
      margin-bottom: 1.0em;
      margin-left:   auto;
      margin-right:  auto;
      padding-left:  0.5em;
      padding-right: 0.5em;
      
      max-width: 840px;
    }
    .loader {
      border: 5px solid #f3f3f3;
      border-top: 5px solid #3498db;
      border-radius: 50%;
      width:  30px;
      height: 30px;
      animation: spin 1s linear infinite;
      display: inline-block;
      vertical-align: middle;
    }
    @keyframes spin {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    textarea, #result {
      width:  100%;
      height: 200px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      padding:    1.0em;
      margin-top: 1.0em;
      min-height: 100px;
    }
    #result {
      height: 100%;
      overflow-y: scroll;
      margin-top: 10px;
      position: relative;
    }
    #result-placeholder {
      color: #777;
    }

    footer {
      color: #777;
      opacity: 0.7;
      margin:  0 auto;
      margin-top:    30px;
      margin-bottom: 100px;
      margin-left:   -1px;
      width:   100%;
      text-align: center;
    }

    ul {
      padding-left:  20px;
      padding-right: 5px;
    }
    li {
      margin-bottom: 10px;
    }

    @media screen and (max-width: 848px) {
      br.ignore-pc {
	display: none;
      }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
</head>

<body>
  <div id="container">
    <ul>
      <li><a href='https://jr.mitou.org/download' target='_blank' rel='noopener'>æœªè¸ã‚¸ãƒ¥ãƒ‹ã‚¢ææ¡ˆæ›¸</a>ã®æ¦‚è¦æ–‡ (200æ–‡å­—ä»¥å†…) ã« <a href='https://twitter.com/hashtag/ChatGPT' target='_blank' rel='noopener'>#ChatGPT</a> ãŒã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹å®Ÿé¨“çš„ãªã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚<br class='ignore-pc'><small>(â€» ã‚³ãƒ¡ãƒ³ãƒˆã®ã€Œæ­£ã—ã•ã€ãŒä¿è¨¼ã•ã‚Œãšã€å ´åˆã«ã‚ˆã£ã¦ã¯æ”¹æ‚ªã«ãªã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ãŸã‚ã€éå…¬å¼ã®ãƒ„ãƒ¼ãƒ«ã§ã™)</small></li>
      <li><a href='https://twitter.com/hashtag/ChatGPT' target='_blank' rel='noopener'>#ChatGPT</a> ã®æ©Ÿèƒ½ã‚’å¤§å¹…ã«åˆ¶é™ã—ã¦ã„ã¾ã™ã€‚<a href='https://chat.openai.com/chat' target='_blank' rel='noopener'>OpenAI ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã‚‹</a>ã¨åˆ¶é™ç„¡ã—ã§ä½¿ãˆã¾ã™ã€‚<br class='ignore-pc'><small>(â€» <a href='https://openai.com/policies/terms-of-use#:~:text=You%20must%20be%20at%20least%2013%20years%20old%20to%20use%20the%20Services.%20If%20you%20are%20under%2018%20you%20must%20have%20your%20parent%20or%20legal%20guardian%E2%80%99s%20permission%20to%20use%20the%20Services.' target='_blank' rel='noopener'>OpenAI ã®åˆ©ç”¨è¦ç´„</a>ã«åŸºã¥ãä¿è­·è€…ã‹ã‚‰è¨±å¯ã‚’å–ã‚‹ã€ã‚‚ã—ãã¯ä¿è­·è€…ãŒä»£ã‚ã‚Šã«ã”åˆ©ç”¨ãã ã•ã„)</small>      </li>
      <li>ã‚¿ã‚¤ãƒˆãƒ«ã«ã¤ã„ã¦ã¯ã€Œ<a href='https://zenn.dev/reputeless/articles/idea-mitoujr' target='_blank' rel='noopener'>æœªè¸ã‚¸ãƒ¥ãƒ‹ã‚¢ã€ä¼ã‚ã‚‹ææ¡ˆæ›¸ã‚’ä½œã‚‹ 5 ã¤ã®ã‚³ãƒ„</a>ã€ã‚’ãŠèª­ã¿ãã ã•ã„ã€‚</li>
    </ul>

    <textarea id="inputText" rows="8" cols="80" maxlength="200" placeholder="ææ¡ˆæ›¸ã®æ¦‚è¦æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„&#10;ï¼ˆä¸Šé™ï¼š200æ–‡å­—ï¼‰"></textarea><br>
    <button id="submitButton">AI ã«æ¦‚è¦æ–‡ã‚’è¦‹ã¦ã‚‚ã‚‰ã†</button>
    <button id="sampleButton">ã‚µãƒ³ãƒ—ãƒ«æ¦‚è¦æ–‡ã‚’å…¥åŠ›ã™ã‚‹</button>
    <span id="inputLength">0</span> / 200
    <div id="result"><span id='result-placeholder'>ã‚³ã‚³ã« AI ã®ã‚³ãƒ¡ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™</span></div>
    <div class="loader" style="display: none;"></div>

    <div id="reaction-buttons" style="display: none;">
      <span>ã“ã®å›ç­”ã¯ãŠå½¹ã«ç«‹ã¡ã¾ã—ãŸã‹ï¼Ÿ</span>
      <button id="positiveReaction" onclick="sendReaction('up')">ğŸ‘</button>
      <button id="negativeReaction" onclick="sendReaction('down')">ğŸ‘</button>
    </p>
  </div>

  <footer><p><small>Created by <a href='https://twitter.com/yasulab/status/1636938702290292737' target='_blank' rel='noopener'>@yasulab</a> for you. Powered by <a href='https://openai.com/product/gpt-4' target='_blank' rel='noopener'>GPT-4</a>.<br>(<a href="/" target="_blank" rel="noopener">Top</a> | <a href="https://github.com/yasulab/gpt-linter" target="_blank" rel="noopener">GitHub</a> | <a href="/policy" target="_blank" rel="noopener">Policy</a> | <a href="/terms" target="_blank" rel="noopener">Terms</a>)</small><small>Created by <a href='https://twitter.com/yasulab/status/1636938702290292737' target='_blank' rel='noopener'>@yasulab</a> for you. Powered by <a href='https://openai.com/product/gpt-4' target='_blank' rel='noopener'>GPT-4</a>.<br>(<a href="/" target="_blank" rel="noopener">Top</a> | <a href="https://github.com/yasulab/gpt-linter" target="_blank" rel="noopener">GitHub</a> | <a href="/policy" target="_blank" rel="noopener">Policy</a> | <a href="/terms" target="_blank" rel="noopener">Terms</a>)</small></p></footer>
  
  <script>
   let reactionSubmitted = false;
   function sendReaction(reaction) {
     fetch('/reaction', {
       method: 'POST',
       headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
       //headers: { 'Content-Type': 'application/json' },
       body: new URLSearchParams({ reaction: reaction })
       //body: JSON.stringify({ reaction: reaction })
     }).then(response => {
       if (response.ok) {
	 //console.log(`ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³: ${reaction}`);
	 reactionSubmitted = true;
	 disableReactionButtons();
       } else {
	 console.error('ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ');
       }
     });
   }
   
    // These texts come from published samples here:
    // https://jr.mitou.org/download#sample
    const sampleTexts = [
      "è‡ªå®…ã§æ‰‹è»½ã«ç­‹ãƒˆãƒ¬ãŒã§ãã‚‹VRã‚½ãƒ•ãƒˆã§ã™ã€‚VRã‚´ãƒ¼ã‚°ãƒ«ã‚’è£…ç€ã—ã€æ¤…å­ãªã©ã‚’è£œåŠ©ã«åˆ©ç”¨ã—ã€è‡ªåˆ†ã®ä½“é‡(è‡ªé‡)ã§ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãŒã§ãã¾ã™ã€‚æ¿€ã—ãå‹•ãæœ‰é…¸ç´ é‹å‹•ã¨ã¯é€†ã§ã€ã“ã®3éƒ¨ä½œã¯ç¾ã—ã„æ˜ åƒã¨éŸ³æ¥½ã«åŒ…ã¾ã‚Œã¦ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ãªãŒã‚‰ã‚†ã£ãã‚Šå‹•ããƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆãªã®ã§å¹…åºƒã„å¹´ä»£ã®æ–¹ã®é‹å‹•èƒ½åŠ›ã€åŸºç¤ä½“åŠ›ã®å‘ä¸Šã€å¥åº·ç¶­æŒã«å½¹ç«‹ã¡ã¾ã™ã€‚çœã‚¹ãƒšãƒ¼ã‚¹ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚",
      "é€†æ–¹å‘ã«å‹•ã2ã¤ã®ã‚­ãƒ¥ãƒ¼ãƒ–ã‚’åŒæ™‚ã«ã‚´ãƒ¼ãƒ«ã«æŒã£ã¦ã„ãã€ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‘ã‚ºãƒ«ã‚²ãƒ¼ãƒ ã§ã™ã€‚ãƒ«ãƒ¼ãƒ«ã®ç°¡å˜ã•ã«å¯¾ã—ã€å®Ÿã¯éå¸¸ã«é ­ã‚’ã¤ã‹ã†ã‚²ãƒ¼ãƒ ã§ã€è«–ç†åŠ›ã®è‚²æˆã«å½¹ç«‹ã¡ã¾ã™ã€‚ç¾è¡Œã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ä¸­å¿ƒã«æ”¹è‰¯ã—ã€è€è‹¥ç”·å¥³å•ã‚ãšå¹…åºƒã„å±¤ã«å—ã‘å…¥ã‚Œã‚‰ã‚Œã‚‹ã‚ˆã†ãªã€ãƒªãƒªãƒ¼ã‚¹ãŒå¯èƒ½ãªãƒ¬ãƒ™ãƒ«ã®ã‚²ãƒ¼ãƒ ã«ã™ã‚‹äº‹ãŒç›®æ¨™ã§ã™ã€‚",
      "ç·¨æ¨¡æ§˜ã¯ç·¨ã¿ç‰©ã‚’æ”¯æ´ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ç·¨ã¿ç‰©ã®æœ¬ãªã©ã¯ã€ãƒ¢ãƒã‚¯ãƒ­ã§å›³ã‚‚å°ã•ãè‡ªåˆ†ã®è€ƒãˆãŸçµµã§ã¯ç·¨ã‚€ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãã“ã§è‡ªåˆ†ã®æã„ãŸã‚¤ãƒ©ã‚¹ãƒˆã‚’ç·¨ã‚‚ã†ã¨ã™ã‚‹ã¨æ–¹çœ¼ç´™ã«ã‚¤ãƒ©ã‚¹ãƒˆã‚’æã„ã¦ãã‚Œã‚’æ•°ãˆãªãŒã‚‰ç·¨ã‚“ã§ã„ãã®ã§æ°—ãŒé ããªã‚‹ã»ã©ã®ã®æ‰‹é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ç·¨æ¨¡æ§˜ã¯è‡ªåˆ†ã§æã„ãŸçµµã‚’ç·¨ã¿å›³ã«ã‚«ãƒ©ãƒ¼ã§å¤‰æ›ã—ã€è‰²ãŒå¤‰ã‚ã‚‹ã¾ã§ã®æ•°ãªã©ã‚’è¡¨ç¤ºã—ç·¨ã¿é–“é•ã„ã‚’æ¸›ã‚‰ã—ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ä½œå“ã‚’åŠ¹ç‡çš„ã«ä½œã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚",
      "DetExploit ã¯ WMI (Windows Management Instrumentation)ã‚„ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãªã©ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦å–å¾—ã—ãŸã‚·ã‚¹ãƒ†ãƒ ä¸Šã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æƒ…å ±ã¨æ§˜ã€…ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å–å¾—ã—ãŸæƒ…å ±ã‚’ç…§åˆã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çš„ã«è„†å¼±ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’æ¤œçŸ¥ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã™ã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§ã™ã€‚",
      "ã€ŒVisibleã€ã¯Node.jsã§é–‹ç™ºã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®Webã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ¼ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã§ã™ã€‚Webã‚µã‚¤ãƒˆã®URLã‚„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ¼ä¸Šã®å•é¡Œç‚¹ã‚’æ¤œå‡ºã™ã‚‹ã»ã‹ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚„æ©Ÿæ¢°å­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’æœ‰åŠ¹æ´»ç”¨ã—ã¦ä¿®æ­£ã‚’ææ¡ˆã—ã¾ã™ã€‚",
      "Merã¯ãƒªã‚³ãƒ¼ãƒ€ãƒ¼ã‚’åŸºã«ã—ã¦ã€è‰²ã€…ãªæ©Ÿèƒ½ã‚’æ­è¼‰ã—ãŸã‚¦ã‚£ãƒ³ãƒ‰ã‚·ãƒ³ã‚»ã‚µã‚¤ã‚¶ãƒ¼ã§ã™ã€‚ç™ºéŸ³ãŒç°¡å˜ãªã®ã§åˆå¿ƒè€…ã§ã‚‚å®Œæˆåº¦ã®é«˜ã„æ¼”å¥ã‚’ä½“é¨“ã§ãã¾ã™ã—ã€è‡ªç„¶ãªå‘¼å¸ã‚’å¿œç”¨ã—ã¦æ¼”å¥ã™ã‚‹ã®ã§å¥åº·ã«è‰¯ã„ã§ã™ã€‚æ›´ã«ã€ã‚µãƒŸãƒ³ã‚°å¥æ³•ã¨ã‚ªã‚¯ã‚¿ãƒ¼ãƒ–ã‚¸ãƒ£ãƒ³ãƒ—å¥æ³•ã§é«˜é€Ÿã‹ã¤æ­£ç¢ºãªæ¼”å¥ãŒã§ãã¾ã™ã€‚åŠ ãˆã¦ã€MIDIå‡ºåŠ›ãŒã§ãã‚‹ã®ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¥½ããªéŸ³æºã§æ¼”å¥ã§ãã¾ã™ã€‚ã¾ãŸã€é‹æŒ‡ã‚„æ¯ã®æ„Ÿåº¦ã‚’å¤‰æ›´ã—ãŸã‚Šã€ã‚¢ãƒ«ãƒšã‚¸ã‚ªã‚’å‰²ã‚Šå½“ã¦ãŸã‚Šã§ãã¾ã™ã€‚"
    ];

   function setInputText(text) {
      const inputText = document.getElementById("inputText");
      inputText.value = text;
      updateInputLength();
    }

    function updateInputLength() {
      const inputText   = document.getElementById("inputText");
      const inputLength = document.getElementById("inputLength");
      inputLength.textContent = inputText.value.length;
    }

    document.getElementById("inputText").addEventListener("input_text", updateInputLength);

    document.getElementById("sampleButton").onclick = function() {
      const randomIndex = Math.floor(Math.random() * sampleTexts.length);
      setInputText(sampleTexts[randomIndex]);
    };

    function showThinkingAnimation() {
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = '<div class="loader"></div><p>AI ãŒã‚³ãƒ¡ãƒ³ãƒˆã‚’è€ƒãˆã¦ã„ã¾ã™...</p>';
    }
    function hideThinkingAnimation() {
      const resultDiv = document.getElementById("result");
      //resultDiv.innerHTML = 'ã‚³ã‚³ã« AI ã®ã‚³ãƒ¡ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™';
    }
    function showReactionButtons() {
      document.getElementById("reaction-buttons").style.display = "block";
    }
    function hideReactionButtons() {
      document.getElementById("reaction-buttons").style.display = "none";
    }
    function activateReactionButtons() {
      document.getElementById('positiveReaction').disabled = false;
      document.getElementById('negativeReaction').disabled = false;
    }
    function disableReactionButtons() {
      document.getElementById('positiveReaction').disabled = true;
      document.getElementById('negativeReaction').disabled = true;
    }

    const md = window.markdownit();
    let dotAnimation;

    document.getElementById("submitButton").onclick = async function() {
      const inputText = document.getElementById("inputText").value;
      //if (inputText.length === 0 || inputText.length > 500) {
      //  return;
      //}
      this.disabled = true;
      showThinkingAnimation();
      hideReactionButtons();

      // APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†å‡¦ç†ã‚’ã“ã“ã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
      // Send request and display ChatGPT response
      const response = await fetch('/gpt', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: new URLSearchParams({ input_text: inputText })
      });
      const data = await response.json();
      activateReactionButtons();

      // APIãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå®Œäº†ã—ãŸã‚‰ã€æ¬¡ã®ã‚ˆã†ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = md.render(data.response); // Convert Markdown to HTML and display

      this.disabled = false;
      hideThinkingAnimation();
      showReactionButtons();
    };

    const inputText = document.getElementById('inputText');
    const charCount = document.getElementById('inputLength');

    // å…¥åŠ›ç”»é¢ã®å†…å®¹ãŒå¤‰æ›´ã•ã‚Œã‚‹ãŸã³ã«æ–‡å­—æ•°ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
    function updateCharCount() {
      charCount.innerText = inputText.value.length;
    }

    // å…¥åŠ›ç”»é¢ã®å†…å®¹ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã« updateCharCount é–¢æ•°ã‚’å®Ÿè¡Œ
    inputText.addEventListener('input', updateCharCount);

    // åˆæœŸã®æ–‡å­—æ•°ã‚’è¨­å®š
    updateCharCount();
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H2QMV61YFH"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-H2QMV61YFH');
  </script>
</body>
</html>
